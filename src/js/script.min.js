window.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".select__header"),t=document.querySelector(".select__body"),o=document.querySelectorAll(".select__item"),n=document.querySelector(".select__title"),l=document.querySelector(".select__header img");e.addEventListener("click",(()=>{t.classList.contains("select__body--active")?(t.classList.remove("select__body--active"),l.style.transform="rotate(0deg)",t.style.maxHeight=null):(t.classList.add("select__body--active"),l.style.transform="rotate(180deg)",t.style.maxHeight=t.scrollHeight+"px")})),o.forEach(((e,o)=>{e.addEventListener("click",(()=>{n.textContent=e.textContent,t.classList.remove("select__body--active"),l.style.transform="rotate(0deg)",t.style.maxHeight=null}))}));let s=0;window.addEventListener("scroll",(function(){if(window.scrollY>=document.querySelector(".map").offsetTop-500&&0==s){let e=[59.949873623587585,30.316037580080657];ymaps.ready((function(){let t=new ymaps.Map("map-element",{center:e,zoom:15},{searchControlProvider:"yandex#search"}),o=new ymaps.Placemark([59.94807611217217,30.311264014204237],{balloonContent:'\n    \n          <div class="ballon">\n          \n          <div class=\'ballon__info\'>\n          <h1 class=\'ballon__title\'>Корюшка</h1>\n          <h3 class=\'ballon__subtitle\'>Ресторан</h3>\n          <table>\n          <tbody>\n          <tr>\n            <td style="text-align: left;">\n              Понедельник\n            </td>\n            <td style="text-align: left;">\n              10:00&nbsp;—&nbsp;20:00\n            </td>\n          </tr>\n          <tr>\n            <td style="text-align: left;">\n          <b>Вторник</b>\n            </td>\n            <td style="text-align: left;">\n          <b>выходной день</b>\n            </td>\n          </tr>\n          <tr>\n            <td style="text-align: left;">\n              Среда\n            </td>\n            <td style="text-align: left;">\n              10:00 —&nbsp;18:00\n            </td>\n          </tr>\n          <tr>\n            <td style="text-align: left;">\n              Четверг\n            </td>\n            <td style="text-align: left;">\n              13:00 —&nbsp;21:00\n            </td>\n          </tr>\n          <tr>\n            <td style="text-align: left;">\n              Пятница\n            </td>\n            <td style="text-align: left;">\n              10:00 —&nbsp;18:00\n            </td>\n          </tr>\n          <tr>\n            <td style="text-align: left;">\n              Суббота\n            </td>\n            <td style="text-align: left;">\n              10:00 — 18:00\n            </td>\n          </tr>\n          <tr>\n            <td style="text-align: left;">\n              Воскресенье\n            </td>\n            <td style="text-align: left;">  \n              10:00 — 18:00\n            </td>\n          </tr>\n          </tbody>\n          </table>\n    \n          <div class=\'ballon__adress\' >Россия, Санкт-Петербург, территория Петропавловская крепость, 3У</div>\n          </div>\n          </div>\n        '},{iconLayout:"default#image",iconImageHref:"img/maps/mark-cart.svg",iconImageSize:[50,70],iconImageOffset:[-25,-70]}),n=new ymaps.Placemark([59.94933601574282,30.315899801696787],{balloonContent:"\n          <div class=\"ballon\">\n          \n          <div class='ballon__info'>\n          <h1 class='ballon__title'>Cafe Hi</h1>\n          <h3 class='ballon__subtitle'>Кафе</h3>\n    \n          <table>\n          <tbody>\n          <tr>\n            <td style=\"text-align: left;\">\n               Понедельник - Воскресенье\n            </td>\n            <td style=\"text-align: left;\">\n               10:00&nbsp;—&nbsp;20:00\n            </td>\n          </tr>\n          </tbody>\n          </table>\n    \n          <div class='ballon__adress' >Россия, Санкт-Петербург, территория Петропавловская крепость, 3Т</div>\n          </div>\n          </div>\n          "},{iconLayout:"default#image",iconImageHref:"img/maps/mark-cart.svg",iconImageSize:[20,30],iconImageOffset:[-8,-30]}),l=new ymaps.Placemark([59.94955128351642,30.301651907409692],{balloonContent:"\n        <div class=\"ballon\">\n        \n        <div class='ballon__info'>\n        <h1 class='ballon__title'>Harvest</h1>\n        <h3 class='ballon__subtitle'>Ресторан</h3>\n    \n        <table>\n        <tbody>\n        <tr>\n          <td style=\"text-align: left;\">\n             Ежедневно\n          </td>\n          <td style=\"text-align: left;\">\n             90:00&nbsp;—&nbsp;22:00\n          </td>\n        </tr>\n        </tbody>\n        </table>\n        <div class='ballon__adress' >Россия, Санкт-Петербург, проспект Добролюбова, 11</div>\n        </div>\n        </div>\n        "},{iconLayout:"default#image",iconImageHref:"img/maps/mark-cart.svg",iconImageSize:[30,40],iconImageOffset:[-15,-40]});t.controls.remove("geolocationControl"),t.controls.remove("searchControl"),t.controls.remove("trafficControl"),t.controls.remove("typeSelector"),t.controls.remove("fullscreenControl"),t.controls.remove("zoomControl"),t.controls.remove("rulerControl"),t.behaviors.disable(["scrollZoom"]),t.geoObjects.add(o).add(n).add(l)})),s=1}}));const r=document.querySelector(".header__mobile"),a=document.querySelector(".header__burger"),c=document.querySelector(".header__cross"),d=document.querySelector("body");a.addEventListener("click",(()=>{r.classList.toggle("active"),a.style.display="none",c.style.display="block",d.classList.add("noscroll")})),c.addEventListener("click",(()=>{r.classList.toggle("active"),a.style.display="block",c.style.display="none",d.classList.remove("noscroll")}));const i=document.querySelector(".modal");document.querySelectorAll(".button-modal").forEach((e=>{e.addEventListener("click",(()=>{i.classList.add("active"),d.classList.add("noscroll")}))})),i.addEventListener("click",(e=>{const t=e.target.closest(".modal__inner");document.body.style.top;t||(i.classList.remove("active"),d.classList.remove("noscroll"))}));new Swiper(".slider",{loop:!0,pagination:{el:".slider__pagination"},navigation:{nextEl:".slider__arrow-right",prevEl:".slider__arrow-left"}}),new Swiper(".mySwiper",{loop:!0,spaceBetween:6,pagination:{el:".features__pagination"},navigation:{nextEl:".slider__arrow-right",prevEl:".slider__arrow-left"}});const u=document.querySelector(".form__elements"),y=u.querySelector('input[type="tel"]'),m=new Inputmask("+7 (999) 999-99-99");u.querySelector('input[type="checkbox"]');m.mask(y);new JustValidate(".form__elements").addField("#name",[{rule:"minLength",value:2,errorMessage:"Количество символов меньше 2!"},{rule:"maxLength",value:30,errorMessage:"Количество символов больше 30!"},{rule:"required",value:!0,errorMessage:"Введите имя"}]).addField("#telephone",[{rule:"required",value:!0,errorMessage:"Введите номер телефона!"},{rule:"function",validator:function(){return 10===y.inputmask.unmaskedvalue().length},errorMessage:"Введите корректный номер телефона!"}]).addField("#check",[{rule:"required",errorMessage:"Дайте своё согласие!"}]).onSuccess((e=>{const t=document.querySelector(".form__text--color");if(document.querySelector("#check").checked){t.style.color="";const o=e=>fetch("mail.php",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((e=>e.json())),n=new FormData(e.target),l={};n.forEach(((e,t)=>{l[t]=e})),o(l).then((e=>{i.style.zIndex="1000",i.classList.add("active"),d.classList.add("noscroll")})),e.target.reset()}}));let _=document.querySelector(".facts__items"),f=document.querySelectorAll(".facts__item"),v=document.querySelectorAll(".facts__answer"),g=document.querySelectorAll(".facts__plus"),p=document.querySelectorAll(".facts__minus");_.addEventListener("click",(e=>{const t=e.target.closest(".facts__item");t&&f.forEach(((e,o)=>{e===t?(v[o].classList.add("active"),f[o].classList.add("facts__item--active"),g[o].style.display="none",p[o].style.display="flex"):(v[o].classList.remove("active"),f[o].classList.remove("facts__item--active"),g[o].style.display="flex",p[o].style.display="none")}))}));const b=document.querySelector(".features__dot-1"),h=document.querySelector(".features__dot-2"),E=document.querySelector(".features__dot-3"),L=document.querySelector(".features__dot-4"),S=document.querySelector(".features__dot-5"),k=document.querySelector(".features__dot-6"),q=document.querySelector(".features__dot-7"),x=document.querySelector(".features__dot-8"),w=document.querySelectorAll(".features__item");b.style.cursor="pointer",h.style.cursor="pointer",E.style.cursor="pointer",L.style.cursor="pointer",S.style.cursor="pointer",k.style.cursor="pointer",q.style.cursor="pointer",x.style.cursor="pointer",b.addEventListener("mouseover",(()=>{b.style.backgroundColor="white",w.forEach(((e,t)=>{w[0].style.opacity="1"}))})),h.addEventListener("mouseover",(()=>{h.style.backgroundColor="white",w.forEach(((e,t)=>{w[1].style.opacity="1"}))})),E.addEventListener("mouseover",(()=>{E.style.backgroundColor="white",w.forEach(((e,t)=>{w[2].style.opacity="1"}))})),L.addEventListener("mouseover",(()=>{L.style.backgroundColor="white",w.forEach(((e,t)=>{w[3].style.opacity="1"}))})),S.addEventListener("mouseover",(()=>{S.style.backgroundColor="white",w.forEach(((e,t)=>{w[5].style.opacity="1"}))})),k.addEventListener("mouseover",(()=>{k.style.backgroundColor="white",w.forEach(((e,t)=>{w[6].style.opacity="1"}))})),q.addEventListener("mouseover",(()=>{q.style.backgroundColor="white",w.forEach(((e,t)=>{w[7].style.opacity="1"}))})),x.addEventListener("mouseover",(()=>{x.style.backgroundColor="white",w.forEach(((e,t)=>{w[8].style.opacity="1"}))})),b.addEventListener("mouseout",(()=>{b.style.backgroundColor="",w.forEach(((e,t)=>{w[0].style.opacity="0.5"}))})),h.addEventListener("mouseout",(()=>{h.style.backgroundColor="",w.forEach(((e,t)=>{w[1].style.opacity="0.5"}))})),E.addEventListener("mouseout",(()=>{E.style.backgroundColor="",w.forEach(((e,t)=>{w[2].style.opacity="0.5"}))})),L.addEventListener("mouseout",(()=>{L.style.backgroundColor="",w.forEach(((e,t)=>{w[3].style.opacity="0.5"}))})),S.addEventListener("mouseout",(()=>{S.style.backgroundColor="",w.forEach(((e,t)=>{w[5].style.opacity="0.5"}))})),k.addEventListener("mouseout",(()=>{k.style.backgroundColor="",w.forEach(((e,t)=>{w[6].style.opacity="0.5"}))})),q.addEventListener("mouseout",(()=>{q.style.backgroundColor="",w.forEach(((e,t)=>{w[7].style.opacity="0.5"}))})),x.addEventListener("mouseout",(()=>{x.style.backgroundColor="",w.forEach(((e,t)=>{w[8].style.opacity="0.5"}))}))}));